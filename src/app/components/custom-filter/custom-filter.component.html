<div class="filter-container">
    <div class="filter-button-container">
        <button
            *ngIf="(filterState.filters$ | async)!.length > 0"
            mat-button
            [ngClass]="['button-primary', 'margin']"
            (click)="removeFilter()"
        >
            <mat-icon class="filter-icon material-symbols-outlined"
                >delete_sweep</mat-icon
            >
        </button>
        <button
            aria-label="open filter selector"
            matTooltip="filter selector"
            matTooltipPosition="above"
            mat-button
            [ngClass]="['button-primary']"
            (click)="openDialog()"
        >
            <mat-icon class="filter-icon material-symbols-outlined">filter_alt</mat-icon>
        </button>
    </div>
    <div class="chip-grid">
        <p class="filter-label">applied filters:</p>
        <p *ngIf="(filterState.filters$ | async)?.length === 0" class="filter-label">
            no filters applied
        </p>
        @for (chip of filterState.filters$ | async; track chip; let i = $index) {
        <mat-chip-row
            [ngClass]="[chip.identifier, 'chip-item']"
            (removed)="removeFilter(chip)"
        >
            {{
                chip.identifier === "min" || chip.identifier === "max"
                    ? chip.identifier + ":"
                    : ""
            }}
            {{ chip.name }}
            <button matChipRemove [attr.aria-label]="'remove ' + chip.name">
                <mat-icon>cancel</mat-icon>
            </button>
        </mat-chip-row>
        }
    </div>
</div>
